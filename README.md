# üöç Transport Catalogue

C++‚Äë–ø—Ä–æ–µ–∫—Ç –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é SVG‚Äë–∫–∞—Ä—Ç—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –ø–æ–∏—Å–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π —Å —É—á—ë—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.

---

## üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì• –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –∏–∑ JSON (`make_base`)
- üó∫ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ SVG‚Äë–∫–∞—Ä—Ç—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤ (`Map`)
- üß≠ –ü–æ–∏—Å–∫ –∫—Ä–∞—Ç—á–∞–π—à–∏—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ (`Route`)
- üì§ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (`process_requests`)
- üíæ –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é Protobuf

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
transport-catalogue/
‚îú‚îÄ‚îÄ main.cpp                     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ transport_catalogue/
‚îÇ   ‚îú‚îÄ‚îÄ domain.*                # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –∏ –∞–≤—Ç–æ–±—É—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ transport_catalogue.*  # –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ª–æ–≥–∏–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ map_renderer.*         # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–∞—Ä—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ svg.*                  # SVG‚Äë–ø–æ–¥–¥–µ—Ä–∂–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ graph.*                # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥—Ä–∞—Ñ–∞
‚îÇ   ‚îú‚îÄ‚îÄ router.*               # –ê–ª–≥–æ—Ä–∏—Ç–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ serialization.*       # –ü—Ä–æ—Ç–æ–∫–æ–ª —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (Protobuf)
‚îÇ   ‚îú‚îÄ‚îÄ json_reader.*         # –ß—Ç–µ–Ω–∏–µ JSON-–∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ json_builder.*        # –°–±–æ—Ä–∫–∞ JSON-–æ—Ç–≤–µ—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ log_duration.*        # –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
```

---

## ‚öôÔ∏è –°–±–æ—Ä–∫–∞

### üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- C++17 –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä
- CMake ‚â• 3.10
- Google Protobuf

### üõ† –ü—Ä–∏–º–µ—Ä —Å–±–æ—Ä–∫–∏

```bash
git clone https://github.com/Mouter91/cpp-transport-catalogue.git
cd cpp-transport-catalogue/transport-catalogue

mkdir build && cd build
cmake ..
cmake --build .
```

---

## üö¶ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### ‚ñ∂Ô∏è –ö–æ–º–∞–Ω–¥–∞ `make_base`

–°–æ–∑–¥–∞—ë—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤—Ö–æ–¥–Ω–æ–≥–æ JSON:

```bash
./transport_catalogue make_base < base_input.json
```

### ‚ñ∂Ô∏è –ö–æ–º–∞–Ω–¥–∞ `process_requests`

–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –±–∞–∑—ã:

```bash
./transport_catalogue process_requests < stat_input.json > result.json
```

---

## üßæ –§–æ—Ä–º–∞—Ç JSON

### üì• –ü—Ä–∏–º–µ—Ä `make_base` –∑–∞–ø—Ä–æ—Å–∞

```json
{
  "base_requests": [ ... ],
  "render_settings": { ... },
  "routing_settings": {
    "bus_wait_time": 5,
    "bus_velocity": 40
  },
  "serialization_settings": {
    "file": "catalogue.db"
  }
}
```

### üì§ –ü—Ä–∏–º–µ—Ä `process_requests` –∑–∞–ø—Ä–æ—Å–∞

```json
{
  "stat_requests": [
    { "id": 1, "type": "Bus", "name": "14" },
    { "id": 2, "type": "Map" }
  ],
  "serialization_settings": {
    "file": "catalogue.db"
  }
}
```

> –ü–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ —Ä–∞–±–æ—Ç–µ —Å –≥–µ–æ–≥—Ä–∞—Ñ–∏–µ–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –≥—Ä–∞—Ñ–∞–º–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤ C++.
